You can get the network map by calling the CLI `list` or `export` commands. `visualize` is currently not supported for Istio
discovered traffic.

The export output format can be yaml (Kubernetes client intents files) and json.
The following shows the CLI output filtered for the namespace (otterize-tutorial-istio) of the example above.

<Tabs>
  <TabItem value="list" label="List">

    1. List the pod-to-pod network map built up so far:

       ```shell
      otterize network-mapper list -n otterize-tutorial-istio
       ```
    2. For the simple example above, you should see:
       ```shell
        client in namespace otterize-tutorial-istio calls:
          - nginx in namespace otterize-tutorial-istio
            - path /client-path, methods: []
        other-client in namespace otterize-tutorial-istio calls:
          - nginx in namespace otterize-tutorial-istio
            - path /other-client-path, methods: []
       ```
    Repeating calls to services like `prometheus` or `jaeger` were omitted for simplicity's sake.


</TabItem>
  <TabItem value="intents" label="Export as intents">

1. Export as YAML client intents (the default format) the pod-to-pod network map built up so far:

   ```shell
   otterize network-mapper export -n otterize-tutorial-istio
   ```

2. For the simple example above, you should see (concatenated into one YAML file):
   ```yaml
   apiVersion: k8s.otterize.com/v1alpha2
      kind: ClientIntents
   metadata:
     name: client
     namespace: otterize-tutorial-istio
   spec:
     service:
       name: client
     calls:
       - name: nginx
         type: http
         resources:
            - path: /client-path
   ---
   apiVersion: k8s.k8s.otterize.com/v1
   kind: ClientIntents
   metadata:
     name: other-client
     namespace: otterize-tutorial-istio
   spec:
     service:
       name: other-client
     calls:
       - name: nginx
         type: http
         resources:
           - path: /other-client-path
   ```

</TabItem>
  <TabItem value="json" label="Export as JSON">

1. Export as JSON the pod-to-pod network map built up so far:
   ```shell
   otterize network-mapper export -n otterize-tutorial-istio --output json
   ```
2. For the simple example above, you should see:

```json
[
  {
    "kind": "ClientIntents",
    "apiVersion": "k8s.otterize.com/v1alpha2",
    "metadata": {
      "name": "client",
      "namespace": "otterize-tutorial-istio"
    },
    "spec": {
      "service": {
        "name": "client"
      },
      "calls": [
        {
          "name": "nginx",
          "type": "http",
          "resources": [
            {
              "path": "/client-path",
              "methods": []
            }
          ]
        }
      ]
    }
  },
  {
    "kind": "ClientIntents",
    "apiVersion": "k8s.otterize.com/v1alpha2",
    "metadata": {
      "name": "other-client",
      "namespace": "otterize-tutorial-istio"
    },
    "spec": {
      "service": {
        "name": "other-client"
      },
      "calls": [
        {
          "name": "nginx",
          "type": "http",
          "resources": [
            {
              "path": "/other-client-path",
              "methods": []
            }
          ]
        }
      ]
    }
  }
]
```

</TabItem>
</Tabs>
