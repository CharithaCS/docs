"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[221],{3905:(e,t,r)=>{r.d(t,{Zo:()=>m,kt:()=>c});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var p=a.createContext({}),d=function(e){var t=a.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},m=function(e){var t=d(e.components);return a.createElement(p.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,l=e.originalType,p=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),u=d(r),c=n,k=u["".concat(p,".").concat(c)]||u[c]||s[c]||l;return r?a.createElement(k,o(o({ref:t},m),{},{components:r})):a.createElement(k,o({ref:t},m))}));function c(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=r.length,o=new Array(l);o[0]=u;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:n,o[1]=i;for(var d=2;d<l;d++)o[d]=r[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}u.displayName="MDXCreateElement"},7528:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>s,frontMatter:()=>l,metadata:()=>i,toc:()=>d});var a=r(7462),n=(r(7294),r(3905));const l={sidebar_position:1,title:"Otterize OSS Helm chart"},o=void 0,i={unversionedId:"reference/configuration/otterize-chart/README",id:"reference/configuration/otterize-chart/README",title:"Otterize OSS Helm chart",description:"The Otterize OSS helm chart is a chart that installs all Otterize components and supporting components together, and configures them to work with each other.",source:"@site/docs/reference/configuration/otterize-chart/README.mdx",sourceDirName:"reference/configuration/otterize-chart",slug:"/reference/configuration/otterize-chart/",permalink:"/reference/configuration/otterize-chart/",draft:!1,editUrl:"https://github.com/otterize/docs/edit/main/docs/reference/configuration/otterize-chart/README.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Otterize OSS Helm chart"},sidebar:"docSidebar",previous:{title:"Object model",permalink:"/otterize-cloud/object-model"},next:{title:"Intents operator",permalink:"/reference/configuration/intents-operator/"}},p={},d=[{value:"Deployment parameters",id:"deployment-parameters",level:2},{value:"Global parameters",id:"global-parameters",level:2},{value:"Cloud parameters",id:"cloud-parameters",level:2},{value:"Intents operator parameters",id:"intents-operator-parameters",level:2},{value:"SPIRE parameters",id:"spire-parameters",level:2},{value:"Credentials operator parameters",id:"credentials-operator-parameters",level:2},{value:"Network mapper parameters",id:"network-mapper-parameters",level:2},{value:"Resource configuration",id:"resource-configuration",level:2}],m={toc:d};function s(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,a.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"The ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/otterize/helm-charts/tree/main/otterize-kubernetes"},"Otterize OSS helm chart")," is a chart that installs all Otterize components and supporting components together, and configures them to work with each other.\nFor example, it configures the Credentials operator to work with the deployed SPIRE server, and the Intents Operator to get mTLS credentials from the Credentials operator."),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"The ",(0,n.kt)("a",{parentName:"p",href:"/reference/configuration/network-mapper"},"network mapper")," is not deployed by this chart. You can deploy it with ",(0,n.kt)("a",{parentName:"p",href:"/reference/configuration/network-mapper/helm-chart"},"its own chart"),".")),(0,n.kt)("h1",{id:"parameters"},"Parameters"),(0,n.kt)("h2",{id:"deployment-parameters"},"Deployment parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"deployment.spire")),(0,n.kt)("td",{parentName:"tr",align:null},"Whether or not to deploy spire."),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"true"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"deployment.credentialsOperator")),(0,n.kt)("td",{parentName:"tr",align:null},"Whether or not to deploy credentials-operator."),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"true"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"deployment.intentsOperator")),(0,n.kt)("td",{parentName:"tr",align:null},"Whether or not to deploy intents-operator."),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"true"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"deployment.networkMapper")),(0,n.kt)("td",{parentName:"tr",align:null},"Whether or not to deploy network-mapper."),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"true"))))),(0,n.kt)("h2",{id:"global-parameters"},"Global parameters"),(0,n.kt)("p",null,"These parameters are used by multiple charts, and must be kept the same for the correct functioning of the separate components."),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"global.spiffe.CASubject")),(0,n.kt)("td",{parentName:"tr",align:null},"The Subject that CA certificates should use (see below)."),(0,n.kt)("td",{parentName:"tr",align:null})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"global.spiffe.CASubject.country")),(0,n.kt)("td",{parentName:"tr",align:null},"Spire's CA certificates ",(0,n.kt)("inlineCode",{parentName:"td"},"Country")," value."),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},'"US"'))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"global.spiffe.CASubject.organization")),(0,n.kt)("td",{parentName:"tr",align:null},"Spire's CA certificates ",(0,n.kt)("inlineCode",{parentName:"td"},"Organization")," Value."),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},'"SPIRE"'))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"global.spiffe.trustDomain")),(0,n.kt)("td",{parentName:"tr",align:null},"The trust domain that spire will use."),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},'"example.org"'))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"global.spire.serverServiceName")),(0,n.kt)("td",{parentName:"tr",align:null},"Name of the kubernetes service that will be created for spire-server."),(0,n.kt)("td",{parentName:"tr",align:null})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"global.allowGetAllResources")),(0,n.kt)("td",{parentName:"tr",align:null},"If defined overrides ",(0,n.kt)("inlineCode",{parentName:"td"},"allowGetAllResources")," in subcharts. Gives get, list and watch permission to watch on all resources. This is used to resolve service names when pods have owners that are custom resources. When disabled, a limited set of permissions is used that only allows access to built-in Kubernetes resources that deploy Pods and Pods themselves - Deployments, StatefulSets, DaemonSets, ReplicaSets and Services. Resolving may not be able to complete if the owning resource is not one of those."),(0,n.kt)("td",{parentName:"tr",align:null})))),(0,n.kt)("h2",{id:"cloud-parameters"},"Cloud parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"global.otterizeCloud.credentials.clientId")),(0,n.kt)("td",{parentName:"tr",align:null},"Client ID for connecting to Otterize Cloud."),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"(none)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"global.otterizeCloud.credentials.clientSecret")),(0,n.kt)("td",{parentName:"tr",align:null},"Client secret for connecting to Otterize Cloud."),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"(none)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"global.otterizeCloud.apiAddress")),(0,n.kt)("td",{parentName:"tr",align:null},"Overrides Otterize Cloud default API address."),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"(none)"))))),(0,n.kt)("h2",{id:"intents-operator-parameters"},"Intents operator parameters"),(0,n.kt)("p",null,"All configurable parameters of intents-operator can be configured under the alias ",(0,n.kt)("inlineCode",{parentName:"p"},"intentsOperator"),".\nFurther information about intents-operator parameters can be found ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/otterize/helm-charts/tree/main/intents-operator"},"in the Intents Operator's helm chart"),"."),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"intentsOperator.autoGenerateTLSUsingCredentialsOperator")),(0,n.kt)("td",{parentName:"tr",align:null},"Use credentials-operator to create TLS cert for intents-operator."),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"true"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"intentsOperator.operator.enableEnforcement")),(0,n.kt)("td",{parentName:"tr",align:null},"If set to false, enforcement is disabled globally (both for network policies and Kafka ACL). If true, you may use the other flags for more granular enforcement settings"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"true"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"intentsOperator.operator.enableNetworkPolicyCreation")),(0,n.kt)("td",{parentName:"tr",align:null},"Whether the operator should create network policies according to the ClientIntents"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"true"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"intentsOperator.operator.enableKafkaACLCreation")),(0,n.kt)("td",{parentName:"tr",align:null},"Whether the operator should create Kafka ACL rules according to the ClientIntents of type Kafka"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"true"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"intentsOperator.operator.autoCreateNetworkPoliciesForExternalTraffic")),(0,n.kt)("td",{parentName:"tr",align:null},"Automatically allow external traffic, if a new ClientIntents resource would result in blocking external (internet) traffic and there is an Ingress/Service resource indicating external traffic is expected."),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"true"))))),(0,n.kt)("h2",{id:"spire-parameters"},"SPIRE parameters"),(0,n.kt)("p",null,"All configurable parameters of SPIRE can be configured under the alias ",(0,n.kt)("inlineCode",{parentName:"p"},"spire"),".\nFurther information about ",(0,n.kt)("inlineCode",{parentName:"p"},"SPIRE")," parameters can be found ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/otterize/helm-charts/tree/main/spire"},"in SPIRE's helm chart"),"."),(0,n.kt)("h2",{id:"credentials-operator-parameters"},"Credentials operator parameters"),(0,n.kt)("p",null,"All configurable parameters of the Credentials operator can be configured under the alias ",(0,n.kt)("inlineCode",{parentName:"p"},"credentialsOperator"),".\nFurther information about Credentials operator parameters can be found ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/otterize/helm-charts/tree/main/credentials-operator"},"in the Credentials operator's chart"),"."),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"credentialsOperator.useOtterizeCloud")),(0,n.kt)("td",{parentName:"tr",align:null},"Use otterize cloud for certificate management instead of spire"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"false"))))),(0,n.kt)("h2",{id:"network-mapper-parameters"},"Network mapper parameters"),(0,n.kt)("p",null,"All configurable parameters of the network mapper can be configured under the alias ",(0,n.kt)("inlineCode",{parentName:"p"},"networkMapper"),".\nFurther information about network mapper parameters can be found ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/otterize/helm-charts/tree/main/network-mapper"},"in the network mapper's chart"),"."),(0,n.kt)("h2",{id:"resource-configuration"},"Resource configuration"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Component"),(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Default"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Intents Operator"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"intentsOperator.operator.resources")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"(none)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Intents Operator - Watcher"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"intentsOperator.watcher.resources")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"(none)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Spire Server"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"spire.server.resources")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"(none)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Spire Agent"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"spire.agent.resources")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"(none)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Credentials Operator"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"credentialsOperator.resources")),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("inlineCode",{parentName:"td"},"(none)"))))))}s.isMDXComponent=!0}}]);